# Bilingo

Bilingo is a fullstack framework that use Go as backend, and TS as frontend. It
embraces a domain-driven design and allow us writing Go and TS code side by side.

## Requirements

- Go v1.24+ (backend) Goto [https://go.dev/doc/install](https://go.dev/doc/install) for installation
  instruction
  - golangci-lint: `curl -sSfL https://golangci-lint.run/install.sh | sh -s -- -b $(go env GOPATH)/bin v2.7.2`
  - Tygo: `go install github.com/gzuidhof/tygo@latest`
  - GORM CLI: `go install gorm.io/cli/gorm@latest`
  - Delve: In VSCode or Cursor, open command palette with `Ctrl/Cmd + Shirt + P`, select `Go: Install/Update Tools`,
    select `dlv` and click `OK`.
- Node.js v22.0+ (run and build frontend application) Goto [https://nodejs.org/en/download](https://nodejs.org/en/download)
  for installation instruction.
- Deno v2.5+ (manage frontend dependencies, lint and format TS code)
  `curl -fsSL https://deno.land/install.sh | sh`

## Domain Framework

Each domain is stored in the [domains](./domains/) directory, take `user` as an
example, it's structure looks like this:

- `api/` API bridges the server and the client
  - `user.go` backend route handlers
  - `user.ts` client bindings
- `models/` domain models, pure data structures of entities
  - `user.go` user model, define the shape of a user entity and db table columns
  - `index.ts` (auto-generated by `go2ts`) model interfaces used in client code
- `repo/` data repositories (optional)
  - `user.go` declares an `IUserRepo` interface and a `UserRepo` instance
  - `db/` the DB implementations of repositories
    - `user.go` the DB implementation of the user repository
- `service/` contains business logic
  - `user.go` contains business logic for users
- `tables/` DB table helpers generated by `gorm gen` CLI according to `models/`
- `types/` universal types/structures for apis, the service, etc.
  - `user.go` types/structures for operations against users
  - `index.ts` (auto-generated by `go2ts`) TS interfaces used in client code
- `views/` frontend pages
- `errors.go` common sentinel errors used in the domain
